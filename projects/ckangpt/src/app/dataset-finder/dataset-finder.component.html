<mat-expansion-panel>
    <mat-expansion-panel-header>
    <mat-panel-title>Find datasets</mat-panel-title>
    <mat-panel-description *ngIf='working'>Processing</mat-panel-description>
    <mat-panel-description *ngIf='found > 0'>Found {{found}}</mat-panel-description>
    <mat-panel-description *ngIf='found === 0'>Failed</mat-panel-description>
    </mat-expansion-panel-header>
    <mat-card>
        <mat-card-content>
            <mat-accordion *ngIf='found > 0'>
                <mat-expansion-panel *ngFor='let dataset of results'>
                    <mat-expansion-panel-header>
                        <mat-panel-title>{{dataset.document.summary}}</mat-panel-title>
                    </mat-expansion-panel-header>
                    <p><code>{{dataset.id}}</code></p>
                    <strong>Relevance: {{dataset.relevance}}</strong>
                    <p>{{dataset.document.description}}</p>
                </mat-expansion-panel>
            </mat-accordion>
            <mat-divider></mat-divider>
        </mat-card-content>
        <mat-card-footer *ngIf='working'>
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </mat-card-footer>
        <mat-card-footer *ngIf='found > 0'>
        <div class='message'>
            <mat-icon color="primary">done</mat-icon>
            <span>Found {{found}} dataset(s)</span>
        </div>
        </mat-card-footer>
        <mat-card-footer *ngIf='found === 0'>
        <div class='message'>
            <mat-icon color="warn">problem</mat-icon>
            <span>Failed to find any datasets</span>
        </div>
        </mat-card-footer>
    </mat-card>
</mat-expansion-panel>
